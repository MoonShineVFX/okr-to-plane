# OKR to Plane Skill - 測試計畫

## 測試前準備

### 1. 確認環境
- [ ] Plane MCP 已連接並可用
- [ ] 在 Plane 中有適當的權限（創建專案、work items、cycles）
- [ ] 知道你的 user_id（組長）

### 2. 準備測試資料
使用 `examples/2026-platform-okrs.md` 作為測試資料，或準備你自己的 OKR Markdown 文件。

### 3. 啟用 Skill
在 Claude.ai 或 Claude Code 中啟用 `okr-to-plane` skill。

## 測試案例

### 測試 1：觸發測試（Triggering）

**目標**：確保 skill 在正確的情況下被觸發

#### 應該觸發的查詢：
- [ ] "幫我把 OKR 匯入到 Plane"
- [ ] "創建 2026 Q1 的 OKR 到 Plane"
- [ ] "建立平台組的季度目標在 Plane 中"
- [ ] "將這個 Markdown OKR 清單加到專案管理系統"

#### 不應該觸發的查詢：
- [ ] "在 Plane 中創建一個新 task"（一般任務，非 OKR）
- [ ] "什麼是 OKR？"（知識問題，不涉及 Plane）
- [ ] "幫我寫 Python 代碼"（無關查詢）

**評估標準**：
- ✅ 觸發率 > 90% 在應該觸發的查詢上
- ✅ 不觸發任何不應該觸發的查詢

### 測試 2：單季度匯入（基礎功能）

**使用者查詢**：
```
請幫我把 Q1 的 OKR 匯入到 Plane，
專案名稱是「2026 平台組 OKRs」
```

**預期行為**：
1. [ ] 檢查專案是否存在，如果不存在則創建
2. [ ] 創建 "2026 Q1" Cycle（日期：2026-01-01 ~ 2026-03-31）
3. [ ] 為 Q1 的 3 個 Objectives 創建 work items：
   - [ ] `[O] 優化平台穩定性與可觀測性`
   - [ ] `[O] 提升開發者體驗與生產力`
   - [ ] `[O] 強化基礎設施自動化`
4. [ ] 為每個 Objective 創建對應的 Key Results（共 9 個）
5. [ ] 所有 work items 關聯到 Q1 Cycle
6. [ ] Assignee 設定為組長（Alex）

**驗證步驟**：
```
1. 在 Plane 中打開「2026 平台組 OKRs」專案
2. 進入 Cycles 視圖
3. 確認 "2026 Q1" Cycle 存在
4. 點擊 Cycle，確認有 12 個 work items（3 Objectives + 9 KRs）
5. 檢查 parent-child 關係是否正確
```

**成功標準**：
- ✅ 專案創建成功
- ✅ Cycle 創建成功，日期正確
- ✅ 所有 Objectives 和 KRs 創建成功
- ✅ 層級關係正確（KRs 是 Objectives 的子項）
- ✅ 負責人分配正確

### 測試 3：完整年度匯入

**使用者查詢**：
```
請將整個 2026 年的 OKR 匯入到 Plane
（提供 examples/2026-platform-okrs.md 的完整內容）
```

**預期行為**：
1. [ ] 創建或確認專案
2. [ ] 創建 4 個 Cycles（Q1, Q2, Q3, Q4）
3. [ ] 為每個季度創建對應的 Objectives 和 KRs
4. [ ] 總計應有：
   - 4 Cycles
   - 10 Objectives（Q1: 3, Q2: 2, Q3: 2, Q4: 2）
   - 30 Key Results

**驗證步驟**：
```
plane:list_cycles project_id={project_id}
應該看到 4 個 cycles

對每個 cycle 執行：
plane:list_cycle_work_items cycle_id={cycle_id}
驗證 work item 數量正確
```

**成功標準**：
- ✅ 4 個 Cycles 都創建成功
- ✅ 每個 Cycle 的日期範圍正確
- ✅ 所有 Objectives 數量正確（10 個）
- ✅ 所有 Key Results 數量正確（30 個）
- ✅ 無 API 錯誤

### 測試 4：重複匯入處理

**使用者查詢**：
```
再次匯入 Q1 的 OKR（已經匯入過）
```

**預期行為**：
1. [ ] 檢測到專案已存在
2. [ ] 檢測到 Q1 Cycle 已存在
3. [ ] 詢問使用者如何處理：
   - 使用現有 Cycle
   - 創建新 Cycle（需要不同名稱）
   - 更新現有項目

**成功標準**：
- ✅ 正確檢測到重複
- ✅ 提供清楚的選項給使用者
- ✅ 不會靜默地創建重複項目

### 測試 5：部分匯入和更新

**使用者查詢**：
```
Q2 有一個新的 Objective，請幫我加到 Plane：

### Objective 3: 提升系統安全性
負責人: Alex
- [ ] KR1: 完成安全審計並修復所有 High 級別漏洞
- [ ] KR2: 實現 SSO 登入整合
```

**預期行為**：
1. [ ] 確認 Q2 Cycle 存在
2. [ ] 創建新的 Objective work item
3. [ ] 創建 2 個 Key Results
4. [ ] 關聯到 Q2 Cycle

**成功標準**：
- ✅ 新 Objective 添加成功
- ✅ 不影響現有的 Q2 內容
- ✅ 關聯到正確的 Cycle

### 測試 6：錯誤處理

#### 6.1 MCP 連線失敗
**模擬**：斷開 Plane MCP 連接
**預期**：清楚的錯誤訊息，指導使用者檢查連接

#### 6.2 負責人不存在
**使用者查詢**：提供一個 Plane 中不存在的負責人名字
**預期**：
- [ ] 列出可用的專案成員
- [ ] 請使用者選擇正確的成員
- [ ] 或提供跳過 assignee 的選項

#### 6.3 無效的日期範圍
**模擬**：嘗試創建日期重疊的 Cycle
**預期**：
- [ ] 檢測到衝突
- [ ] 提供調整建議
- [ ] 不會強制創建

### 測試 7：性能比較

**測量項目**：
- 手動操作 vs 使用 skill 的時間
- Token 消耗量
- API 調用次數
- 錯誤率

**基線（手動操作 Q1 OKR）**：
- 時間：約 15-20 分鐘
- 步驟：
  1. 在 Plane 中創建專案
  2. 創建 Cycle
  3. 逐個創建 3 個 Objectives
  4. 逐個創建 9 個 Key Results
  5. 手動關聯到 Cycle
  6. 設定 assignees

**使用 Skill 的預期**：
- 時間：< 2 分鐘
- 自動化所有步驟
- API 調用次數：約 15-20 次（可接受）
- Token 消耗：預估 5,000-8,000 tokens

**成功標準**：
- ✅ 時間節省 > 80%
- ✅ 零錯誤率
- ✅ 使用者只需提供 OKR 文件和確認

## 測試執行記錄模板

```markdown
## 測試執行：[日期]

### 測試案例 1: [名稱]
- 執行時間：
- 結果：✅ Pass / ❌ Fail
- 實際行為：
- 發現的問題：
- 建議改進：

### 測試案例 2: [名稱]
...
```

## 迭代改進

根據測試結果：

### 如果觸發不足（Under-triggering）
- 在 description 中添加更多觸發短語
- 加入 "OKR"、"季度目標"、"Objectives" 等關鍵字

### 如果觸發過度（Over-triggering）
- 添加負面觸發條件
- 更明確地限定使用場景

### 如果執行錯誤
- 改進錯誤處理邏輯
- 添加更多驗證步驟
- 優化 API 調用順序

## Beta 測試

建議邀請 2-3 位團隊成員進行 beta 測試：

### Beta 測試問卷
1. 觸發是否符合預期？（經常/有時/很少）
2. 匯入流程是否順暢？（1-5 分）
3. 結果是否符合你的期望？（是/否）
4. 遇到什麼問題？（開放式）
5. 有什麼建議改進？（開放式）

### Beta 測試目標
- 收集真實使用反饋
- 發現邊緣案例
- 驗證實際工作流程適配性

## 長期監控

在 skill 上線後：
- [ ] 每週檢查使用情況
- [ ] 收集使用者反饋
- [ ] 監控 API 錯誤率
- [ ] 根據反饋持續改進

## 成功指標

Skill 被認為成功如果：
- ✅ 觸發準確率 > 90%
- ✅ 完整匯入一個季度 OKR < 2 分鐘
- ✅ 零數據錯誤（所有 Objectives 和 KRs 正確創建）
- ✅ 使用者滿意度 > 4/5
- ✅ 相比手動操作節省時間 > 80%
